<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>Solving the hard parts of eCommerce</title>

    <meta name="description" content="Introducing the CommerceGuys Components.">
    <meta name="author" content="Bojan Zivanovic">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />

    <link rel="stylesheet" href="css/reveal.min.css">
    <link rel="stylesheet" href="css/theme/default.css" id="theme">
    <link rel="stylesheet" href="assets/stylesheets/styles.css"> <!-- Just a few changes, not worth a whole theme. -->

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- If the query includes 'print-pdf', use the PDF print sheet -->
    <script>
      document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->

    <!-- Customized Styles -->
    <style type="text/css">
      /* Shadows for all screenshot slides */
      .shadowh2 h2,
      .shadowh2 h1 {
        padding: 30px;
        background-color: rgba(0,0,0,0.7);
        background-image: none;
        border-radius: 20px;
        border: 1px solid rgba(255,255,255,0.7);
        box-shadow: 0 0 45px #000 inset;
      }
    </style>
  </head>

  <body>

    <div class="reveal">
      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">
        <section>
          <h1>Solving the hard parts of eCommerce</h1>
          <h2>Symfony Live Madrid 2014</h2>
          <p>
            <small>
              Presented by Bojan Zivanovic / <a href="http://twitter.com/bojan_zivanovic">@bojan_zivanovic</a>
            </small>
          </p>
        </section>

        <section>
          <section>
            <img src="assets/images/bojan.jpg" />
            <p>
              Bojan Zivanovic <br />
              Commerce Development Lead at <a href="http://commerceguys.com">Commerce Guys</a>
            </p>
          </section>

          <section>
            <a href="http://www.drupalcommerce.org">
              <img src="assets/images/DCLogo_2C_on_black.png" class="simple" />
            </a>
            <p>Our vision is for Drupal Commerce to be the number one<br />open source eCommerce platform in the world.</p>
          </section>

          <section>
            <h2>We're doing something right...</h2>
            <img src="assets/images/usage-stats.png" />
          </section>
          <section>
            <img src="assets/images/rmg.png" />
          </section>
          <section>
            <img src="assets/images/cartier.png" />
          </section>
          <section>
            <img src="assets/images/lush.png" />
          </section>

          <section class="shadowh2" data-background="assets/images/commerce-guy.png">
            <h2>Commerce Guys</h2>
            <p><strong>Paris | London | Ann Arbor, MI</strong></p>
            <p>Creators of Platform.sh and Drupal Commerce</p>

            <aside class="notes">
              We're a Drupal powered eCommerce company now headquartered in Paris with offices in London and Ann Arbor.
              We formed the international company through a small merger in 2010 to create Drupal Commerce and Platform.sh.
              We're now up to around 60 people, about 25% distributed, delivering a wide variety of projects across
              North America and Europe.
            </aside>
          </section>

          <section>
            <img src="assets/images/platform2.png" />

            <aside class="notes">
              It extends a branch-merge workflow to infrastructure so that every branch can be tested as if it
              were in production, and it scales for the largest sites.
            </aside>
          </section>
        </section>


        <section>
            <section>
              <h2>Commerce 2.x Sprint</h2>
              <img src="assets/images/paris-sprint.jpg" />
            </section>
            <section>
              <h2>Once again, we start from scratch</h2>
              <img src="assets/images/scratch.png" style="border:0" />
            </section>
            <section>
              <img src="assets/images/umbrella.png" class="simple" />
            </section>
            <section>
              <h2>Libraries first</h2>
              <img src="assets/images/libraries.png" class="simple" />
            </section>
        </section>

        <section>
          <section>
            <h2>Currency handling</h2>
            <img src="assets/images/usd.png" />
          </section>
          <section>
            <h2>Currency formatting</a>
            <h3> Turning '1999.99 USD' into '$1,999.99'</h3>
            <ul>
              <li>Decimal separator (.)</li>
              <li>Thousands separator (,)</li>
              <li>Position of the currency symbol (before/after? Space?)</li>
            </ul>
          </section>
          <section>
            <h2>Currency formatting</h2>
            <h3 class="fragment">12 345,99 €</h3>
            <h3 class="fragment">12.345,99 €</h3>
            <h3 class="fragment">€12,345.99</h3>
          </section>
          <section>
            <h2>Currency formatting</h2>
            <h3>د.إ.‏ ٩٩٩٫٩٩</h3>
            <p>Different numbering systems!</p>
          </section>
          <section>
            <h2>There's an extension for that: intl</h2>
            <img src="assets/images/php5-intl.png" class="simple" />
            <h3 class="fragment">But you might not have it</h3> <br />
            <h3 class="fragment">And it might not be up to date</h3>
          </section>
          <section>
            <h2>Where does the data come from?</h2>
            <img src="assets/images/cldr.png" class="simple" />
            <blockquote>
            Provides the largest and most extensive standard repository of locale data available.
            </blockquote>
          </section>
          <section>
            <img src="assets/images/intl.png" />
          </section>
          <section>
            <h2>Coming soon to symfony/intl</h2>
            <img src="assets/images/symfony.png" />
          </section>
        </section>

        <section>
          <section>
            <img src="assets/images/addressing.png" />
          </section>
          <section>
            <h2>I'll just build my own form!</h2>
            <img src="assets/images/address-form.png" />
          </section>
          <section>
            <h2>Data model: Address</h2>
            <ul>
              <li>Recipient, Organization</li>
              <li>Address line 1, Address line 2</li>
              <li>Postal code, Sorting code</li>
              <li>Locality, Dependent locality</li>
              <li>Administrative area, Country</li>
            </ul>
          </section>
          <section>
            <h2>Data model: Address format</h2>
            <ul>
              <li>Which fields are used, and in which order</li>
              <li>Which fields are required</li>
              <li>Which fields need to be uppercased</li>
              <li>Field labels</li>
              <li>Regular expression for validating postal codes</li>
            </ul>
          </section>
           <section>
            <h2>Data model: Subdivision</h2>
            <ul>
              <li>Hierarchical, up to 3 levels</li>
              <li>Multilingual user-facing name</li>
              <li>Code (used on envelopes, e.g. CA for California)</li>
              <li>Postal code validation pattern</li>
            </ul>
          </section>
          <section>
            <h2> Form generation </h2>
            <ul>
              <li> AddressType -> Field subscriber</li>
              <li> Gets the address format for the selected country, generates the fields</li>
              <li> Experimental </li>
            </ul>
          </section>
          <section>
            <h2>Validator</h2>
            <ul>
              <li>Country code is valid.</li>
              <li>All required fields are filled in.</li>
              <li>All fields unused by the country's format are empty.</li>
              <li>All subdivisions are valid (values matched against predefined subdivisions).</li>
              <li>The postal code is valid (country and subdivision-level patterns).</li>
            </ul>
          </section>
          <section>
            <h2>Formatter</h2>
            <ul>
              <li>Formats an address according to the destination country format.</li>
              <li>Appends the country name in the local language</li>
              <li>Takes care of major-to-minor and minor-to-major field ordering.</li>
            </ul>
          </section>
        </section>

        <section>
          <section>
            <img src="assets/images/zone.png" />
          </section>
          <section>
            <h2>Territorial groupings (zones)</h2>
            <ul>
              <li>California and Nevada</li>
              <li>European Union</li>
              <li>Germany and a set of Austrian postal codes (6691, 6991, 6992, 6993)</li>
              <li>Austria without specific postal codes (6691, 6991, 6992, 6993)</li>
            </ul>
          </section>
          <section>
            <h2> Data model </h2>
            <p>Each zone consists out of zone members.</p>
            <ul>
             <li>ZoneMemberZone</li>
             <li>ZoneMemberCountry*</li>
            </ul>
            <br /><br />
            <p>Special: include/exclude postal codes!</p>
          </section>
          <section>
            <h2> Matching an address </h2>
            <ul>
              <li>against a single zone: $zone->match($address) </li>
              <li>against all zones: ZoneMatcher</li>
            </ul>
            <img src="assets/images/zone-matcher.png" />
          </section>
        </section>

        <section>
          <section>
            <img src="assets/images/tax.png" />
          </section>
          <section>
            <img src="assets/images/tax.jpg" />
            <h3>What are my rates?</h3>
            <h3>When do they apply?</h3>
          </section>
          <section>
            <h2>2015 VOES</h2>
            <ul>
            <li>VAT on Electronically Supplied Services</li>
            <li>When selling a digital product, VAT is due at the place of the customer.</li>
            <li>From 2015 this applies to EVERYONE.</li>
          </section>
          <section>
            <h2>What are my rates: Percentages change</h2>
            <img src="assets/images/angela-merkel.jpg" />
          </section>
          <section>
            <h2> When do they apply: tax zones</h2>
            <p>German VAT applies to Germany and 5 Austrian postal codes.</p>
            <p>Austrian VAT applies to Austria without those 5 postal codes.</p>
          </section>
          <section>
            <h2>When do they apply: place of supply</h2>
            <ul>
              <li>Explicit </li>
              <li>Based on company address</li>
              <li>Based on customer address</li>
            </ul>
          </section>
        </section>

        <section>
            <h2>Current explorations</h2>
            <img src="assets/images/bojan2.jpg" />
          </section>

        <section>
          <section>
            <h2>commerceguys/pricing</h2>
            <img src="assets/images/pricing.png" />
          </section>
          <section>
            <h2>PHP has no support for decimal numbers</h2>
            <h3> 2.99, 3.4, 6.78 -> floats, not decimals! </h3>
          </section>
          <section>
            <h2>Store and handle prices as integers?</h2>
            <img src="assets/images/how-about-no.jpg" />
          </section>
          <section>
            <h2>BCMath</h2>
            <img src="assets/images/bcmath.png" />
          </section>
          <section>
            <h2>Making it sane</h2>
            <img src="assets/images/pricing-code.png" />
          </section>
          <section>
            <h2>Next steps</h2>
            <ul>
              <li>ComplexPrice (base w/ taxes, discounts, fees)</li>
              <li>Calculators</li>
            </ul>
              <br /><br /><p>Focus on the interaction between taxes and discounts</p>
            </ul>
          </section>
        </section>

        <section>
          <section>
            <h2>The next payment API? </h2>
            <img src="assets/images/omnipay.png" />
            <img src="assets/images/payum.png" />
          </section>
        </section>

        <section>
          <h2>Hierarchies</h2>
          <img src="assets/images/product-tree.png" />
        </section>

        <section>
          <h2>The future</h2>
          <img src="assets/images/world-domination.jpg" style="width: 80%; height: 80%" />
        </section>

        <section>
          <h2>You can help!</h2>
        </section>

        <section>
          <h2>Links</h2>
            <ul>
              <li>https://github.com/commerceguys/intl</li>
              <li>https://github.com/commerceguys/addressing</li>
              <li>https://github.com/commerceguys/zone</li>
              <li>https://github.com/commerceguys/tax</li>
            </ul>
            <br /><br />
            <p>Each README points to a blog post on drupalcommerce.org.</p>
        </section>

        <section>
          <h2>Questions?</h2>
          <p>@bojan_zivanovic</p>
          <p>bojanz.github.io/commerce-libraries</p>
          <p>https://joind.in/12945</p>
        </section>
      </div>
    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.min.js"></script>

    <script>

      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
        transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

        // Optional libraries used to extend on reveal.js
        dependencies: [
          { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
          { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
          // { src: 'plugin/search/search.js', async: true, condition: function() { return !!document.body.classList; } }
          // { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
        ]
      });

    </script>

  </body>
</html>
